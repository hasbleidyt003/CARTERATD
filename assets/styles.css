"""
ESTILOS GLOBALES Y CONFIGURACIONES
"""

def apply_global_styles():
    """Aplica estilos globales a todas las p√°ginas"""
    st.markdown("""
    <style>
    /* Estilos globales */
    .stMetric {
        background-color: white;
        border-radius: 10px;
        padding: 20px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        border: 1px solid #e0e0e0;
    }
    
    /* Botones principales */
    .stButton > button {
        border-radius: 8px;
        font-weight: 600;
        transition: all 0.3s ease;
    }
    
    .stButton > button:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
    
    /* T√≠tulos */
    h1, h2, h3 {
        color: #1E293B;
        font-weight: 700;
        margin-top: 1rem !important;
    }
    
    /* Separadores */
    hr {
        margin: 2rem 0 !important;
    }
    
    /* Tarjetas */
    .stExpander {
        border: 1px solid #e0e0e0;
        border-radius: 10px;
        margin-bottom: 1rem;
    }
    
    /* Badges de estado */
    .badge-normal { color: #10B981; background-color: #D1FAE5; padding: 4px 8px; border-radius: 12px; font-size: 12px; }
    .badge-alerta { color: #F59E0B; background-color: #FEF3C7; padding: 4px 8px; border-radius: 12px; font-size: 12px; }
    .badge-sobrepasado { color: #EF4444; background-color: #FEE2E2; padding: 4px 8px; border-radius: 12px; font-size: 12px; }
    
    /* Barras de progreso */
    .stProgress > div > div {
        height: 8px !important;
        border-radius: 4px;
    }
    
    /* Dataframes */
    .dataframe {
        border-radius: 10px !important;
        overflow: hidden !important;
    }
    </style>
    """, unsafe_allow_html=True)

def get_status_badge(status, value=None):
    """Devuelve un badge de estado con icono y color"""
    status_config = {
        'NORMAL': {'icon': 'üü¢', 'color': 'success', 'bg': '#D1FAE5'},
        'ALERTA': {'icon': 'üü°', 'color': 'warning', 'bg': '#FEF3C7'},
        'SOBREPASADO': {'icon': 'üî¥', 'color': 'error', 'bg': '#FEE2E2'},
        'PENDIENTE': {'icon': '‚è≥', 'color': 'warning', 'bg': '#FEF3C7'},
        'PARCIAL': {'icon': 'üü†', 'color': 'warning', 'bg': '#FEF3C7'},
        'AUTORIZADA': {'icon': '‚úÖ', 'color': 'success', 'bg': '#D1FAE5'}
    }
    
    config = status_config.get(status, {'icon': '‚ö™', 'color': 'info', 'bg': '#E0E7FF'})
    
    if value is not None:
        return f"<span style='background-color: {config['bg']}; padding: 4px 12px; border-radius: 16px; font-size: 14px;'>{config['icon']} {status} ({value})</span>"
    return f"<span style='background-color: {config['bg']}; padding: 4px 12px; border-radius: 16px; font-size: 14px;'>{config['icon']} {status}</span>"

def format_currency(value):
    """Formatea valores monetarios"""
    if value is None:
        return "$0"
    return f"${value:,.0f}"

def format_percentage(value):
    """Formatea porcentajes"""
    if value is None:
        return "0%"
    return f"{value:.1f}%"
